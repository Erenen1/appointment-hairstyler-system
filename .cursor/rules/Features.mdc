## title:Admin Panel SayfalarÄ± ve Ã–zellikler

description:

### âœ… Tamamlanan Sayfalar:

- randevu-takvimi [x] - Takvim gÃ¶rÃ¼nÃ¼mÃ¼
- randevular [x] - Grafik ve liste
- musteriler [x] - Liste ve detay
- personeller [x] - Ã‡alÄ±ÅŸma gÃ¼nleri ve yÃ¼k
- serviceler [x] - Fiyat ve sÃ¼re (âœ… Refactored)
- cari [x] - MÃ¼ÅŸteri bakiyeleri
- adisyon [x] - Fatura ve Ã¶demeler
- gelir [x] - Gelir takibi
- gider [x] - Gider takibi
- istatistikler [x] - Emlak analitikleri (âœ… Refactored)
- ilan-analitikleri [x] - Ä°lan performans analizi (âœ… Refactored)
- ayarlar [x] - Ä°ÅŸletme ve profil ayarlarÄ± (âœ… New)
- whatsapp-bot [x] - N8N webhook entegrasyonu (âœ… New)

### ğŸ¨ TasarÄ±m GÃ¼ncellemeleri:

- Mavi-beyaz tema uygulandÄ±
- Sidebar aÃ§ma/kapama butonu daha belirgin hale getirildi
- Hover efektleri ve geÃ§iÅŸ animasyonlarÄ± eklendi
- Dashboard kartlarÄ± yeniden tasarlandÄ±
- Responsive tasarÄ±m iyileÅŸtirildi

### ğŸ—ï¸ Proje YapÄ±sÄ±:

- `src/features/admin/components/Sidebar.tsx` - Ana sidebar component
- `src/app/(routes)/admin/layout.tsx` - Layout dosyasÄ± (sadece import)
- TÃ¼m sayfalar sidebar'da gÃ¶rÃ¼nÃ¼r ve eriÅŸilebilir

### ğŸš€ Ã–zellikler:

- Sidebar collapse/expand animasyonu
- Mobile responsive tasarÄ±m
- Modern UI/UX
- PrimeReact component'leri
- TypeScript desteÄŸi

### File Structure

- Her zaman components,hooks,services,types ilgili dosyanÄ±n bulunduÄŸu yere kaydet mesela service, servise iÃ§ine ise tek bir import koy <Service components={component} /> gibi.

### âœ… Refactored Features:

**statistics** - Emlak Ä°statistikleri:

```
src/features/statistics/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ PackageUpgradePrompt.tsx
â”‚   â”œâ”€â”€ PreviewBanner.tsx
â”‚   â”œâ”€â”€ AnalyticsContent.tsx
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useStatistics.ts
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

**services** - Hizmet YÃ¶netimi:

```
src/features/services/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ServicesChart.tsx
â”‚   â”œâ”€â”€ ServicesFilters.tsx
â”‚   â”œâ”€â”€ ServicesTable.tsx
â”‚   â”œâ”€â”€ ServiceFormDialog.tsx
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useServices.ts
â”œâ”€â”€ types.ts
â””â”€â”€ index.ts
```

**property-analytics** - Ä°lan Analitikleri:

```
src/features/property-analytics/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ AnalyticsFilters.tsx
â”‚   â”œâ”€â”€ StatsCards.tsx
â”‚   â”œâ”€â”€ AnalyticsCharts.tsx
â”‚   â”œâ”€â”€ PropertiesTable.tsx
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ usePropertyAnalytics.ts
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

**settings** - Ä°ÅŸletme AyarlarÄ±:

```
src/features/settings/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ BusinessSettingsTab.tsx
â”‚   â”œâ”€â”€ ProfileSettingsTab.tsx
â”‚   â”œâ”€â”€ SecuritySettingsTab.tsx
â”‚   â”œâ”€â”€ NotificationSettingsTab.tsx
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useSettings.ts
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ context/
â”‚   â””â”€â”€ SettingsContext.tsx
â””â”€â”€ index.ts
```

**whatsapp-bot** - WhatsApp Bot Entegrasyonu:

```
src/features/whatsapp-bot/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ WhatsAppStats.tsx
â”‚   â”œâ”€â”€ ContactList.tsx
â”‚   â”œâ”€â”€ MessageList.tsx
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useWhatsApp.ts
â”œâ”€â”€ services/
â”‚   â””â”€â”€ whatsappService.ts
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

### ğŸ“‹ Pattern:

- **Ana Sayfa**: Sadece import'lar ve hook kullanÄ±mÄ±
- **Components**: UI bileÅŸenleri ayrÄ± dosyalarda
- **Hooks**: TÃ¼m logic ve state yÃ¶netimi
- **Types**: TypeScript interface'leri
- **Index**: Barrel export'lar

---

# Action Buttons Template

- EÄŸer update, view yada delete buttonu istersem bunlarÄ± dÃ¶ndÃ¼r.

```tsx
import { Button } from "primereact/button";

const actionTemplate = (rowData: Customer) => (
    <div className="flex gap-2">
        <Button
            icon="pi pi-eye"
            size="small"
            severity="info"
            text
            tooltip="DetaylarÄ± GÃ¶rÃ¼ntÃ¼le"
            onClick={() => handleViewDetails(rowData)}
        />
        <Button
            icon="pi pi-pencil"
            size="small"
            severity="warning"
            text
            tooltip="DÃ¼zenle"
            onClick={() => handleEditCustomer(rowData)}
        />
        <Button
            icon="pi pi-trash"
            size="small"
            severity="danger"
            text
            tooltip="Sil"
            onClick={() => handleDeleteCustomer(rowData.id)}
        />
    </div>
);

---
```

# MÃ¼ÅŸteri DÃ¼zenleme / GÃ¼ncelleme / Silme Ä°ÅŸlemleri

## BaÄŸlam

Bu kod parÃ§acÄ±ÄŸÄ±, PrimeReact bileÅŸenleri kullanan React + TypeScript tabanlÄ± bir uygulamaya aittir.  
AÅŸaÄŸÄ±daki iÅŸlevleri tanÄ±mlar:

- `handleEditCustomer`: MÃ¼ÅŸteriyi dÃ¼zenleme formuna yÃ¼kler
- `handleUpdateCustomer`: MÃ¼ÅŸteri bilgilerini gÃ¼nceller
- `handleDeleteCustomer`: MÃ¼ÅŸteriyi siler (onay penceresi ile)

## AmaÃ§ [Ã¶rnek]

Bu fonksiyonlar, mÃ¼ÅŸteri listesini (`customers`) gÃ¼nceller ve PrimeReact `Toast` bileÅŸeni ile kullanÄ±cÄ±ya geri bildirim verir.  
Silme iÅŸlemi Ã¶ncesinde `confirmDialog` kullanÄ±larak onay alÄ±nÄ±r.

## Kod

```tsx
const handleEditCustomer = (customer: Customer) => {
  setEditingCustomer(customer);
  setEditingForm({
    fullName: customer.fullName,
    email: customer.email,
    phone: customer.phone,
    address: customer.address,
    profession: customer.profession,
    budget: customer.budget,
    preferredType: customer.preferredType,
    preferredCategory: customer.preferredCategory,
    preferredDistricts: customer.preferredDistricts,
    minArea: customer.minArea,
    maxArea: customer.maxArea,
    minRooms: customer.minRooms,
    requirements: customer.requirements,
    priority: customer.priority,
    notes: customer.notes,
    assignedAgent: customer.assignedAgent,
  });
  setShowEditDialog(true);
};

const handleUpdateCustomer = () => {
  if (editingCustomer && editingForm) {
    const updatedCustomer = {
      ...editingCustomer,
      ...editingForm,
      lastContact: new Date().toISOString(),
    };

    setCustomers((prev) =>
      prev.map((c) => (c.id === editingCustomer.id ? updatedCustomer : c))
    );

    setShowEditDialog(false);
    setEditingCustomer(null);
    setEditingForm(null);

    toast.current?.show({
      severity: "success",
      summary: "BaÅŸarÄ±lÄ±",
      detail: "MÃ¼ÅŸteri bilgileri gÃ¼ncellendi",
      life: 3000,
    });
  }
};

const handleDeleteCustomer = (customerId: number) => {
  confirmDialog({
    message: `${
      customers.find((c) => c.id === customerId)?.fullName
    } mÃ¼ÅŸterisini silmek istediÄŸinizden emin misiniz?`,
    header: "MÃ¼ÅŸteri Silme OnayÄ±",
    icon: "pi pi-exclamation-triangle",
    acceptClassName: "p-button-danger",
    accept: () => {
      setCustomers((prev) => prev.filter((c) => c.id !== customerId));
      toast.current?.show({
        severity: "success",
        summary: "BaÅŸarÄ±lÄ±",
        detail: "MÃ¼ÅŸteri silindi",
        life: 3000,
      });
    },
  });
};
```
